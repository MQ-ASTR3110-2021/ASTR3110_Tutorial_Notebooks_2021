#!/usr/bin/env python
#=============================================================================#
#                                                                             #
# NAME:     util_tute04.pyy                                                   #
#                                                                             #
# PURPOSE:  Utility code for Tutorial 04 of AST3110 at Macquarie University.  #
#                                                                             #
# MODIFIED: 31-Mar-2019 by C. Purcell                                         #
#                                                                             #
#=============================================================================#
import numpy as np


def poly5(p):
    """
    When called, this function takes a vector of parameters
    and returns another functions to evaluate a polynomial
    with these coefficients fixed.
    """

    # Pad out p vectors smaller than len = 6 (longhand version)
    #numPad = 6 - len(p)
    #pad = np.zeros((numPad))
    #p = np.append(pad, p)

    # Pad out p vectors smaller than len = 6 (shorthand version)
    p = np.append(np.zeros((6-len(p))), p)

    def rfunc(x):
        """
        This function is returned by the poly5 function. It takes a
        vector of x values and evaluated the current polynomial.
        """
        y = (p[0]*x**5.0 + p[1]*x**4.0 + p[2]*x**3.0 +
             p[3]*x**2.0 + p[4]*x + p[5])

        # Note the indent here
        return y

    # Note the indent here
    return rfunc
